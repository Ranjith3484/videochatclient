<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BlueJeans</title>
  <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
  <link rel="stylesheet" href="./styles/waitingScreen.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

<body>
  <div class="container">
    <h3>You are the only one here</h3>
    <video autoplay="true" id="videoSectionElement"></video>
    <h5>Share this link to invite other people:</h5>
    <div class="linkArea">
      <div class="iconArea" onclick="copyURL()">
        <i class="fa fa-link icon"></i>
      </div>
      <a>https://bluejeans.com/123456789</a>
    </div>
    <div id="snackbar">Copied...</div>
  </div>

  <script>
    var videoSection = document.querySelector("#videoSectionElement");

    if (navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(function (stream) {
          videoSection.srcObject = stream;
        })
        .catch(function (err0r) {
          console.log("Something went wrong!");
        });
    }

    function copyURL() {
      //copy address
      navigator.clipboard.writeText('https://bluejeans.com/123456789');
      //show snackbar alert
      // Get the snackbar DIV
      var x = document.getElementById("snackbar");

      // Add the "show" class to DIV
      x.className = "show";

      // After 3 seconds, remove the show class from DIV
      setTimeout(function () { x.className = x.className.replace("show", ""); }, 3000)
    }

    //redirect to next screen after some delay
    setTimeout(function () {
       window.location.replace("./clientView.html")
    }, 6000);
  </script>
</body>

</html>